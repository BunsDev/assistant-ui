---
title: ThreadRuntime
---

import { ParametersTable } from "@/components/docs";
import { ThreadRuntime, ThreadState } from "@/generated/typeDocs";
import {
  ThreadMessagesState,
  ThreadViewportState,
} from "@/components/docs/parameters/context";

### `useThreadRuntime`

Get the thread runtime object:

```tsx
import { useThreadRuntime } from "@assistant-ui/react";

const thread = useThreadRuntime();
```

<ParametersTable {...ThreadRuntime} />

### `useThread`

Access the thread state directly:

```tsx
import { useThread } from "@assistant-ui/react";

const thread = useThread();
const isRunning = useThread((m) => m.isRunning);
```

<ParametersTable {...ThreadState} />

### `useThreadMessages`

Work with the messages within a thread:

```tsx
import { useThreadMessages } from "@assistant-ui/react";

const messages = useThreadMessages();
const firstMessage = useThreadMessages((m) => m[0]);
```

<ParametersTable {...ThreadMessagesState} />

### `useThreadViewport`

Manage thread viewport state (e.g., scrolling):

```tsx
import { useThreadViewport } from "@assistant-ui/react";

const threadViewport = useThreadViewport();
const isAtBottom = useThreadViewport((m) => m.isAtBottom);
```

<ParametersTable {...ThreadViewportState} />

### `ThreadMessageLike`

The `ThreadMessageLike` type has been updated to include a new role: "data". This role can be used in the context of the `ThreadRuntime`. The `ThreadMessageLike` type now looks like this:

```tsx
export type ThreadMessageLike = {
  readonly role: "assistant" | "user" | "system" | "data";
  readonly content:
    | string
    | readonly (
        | TextContentPart
        | ImageContentPart
        | UIContentPart
        | ThreadAssistantContentPart
        | ThreadUserContentPart
        | ThreadSystemContentPart
        | Unstable_AudioContentPart
        | ReasoningContentPart
        | ThreadStep
      )[];
  readonly status: MessageStatus;
  readonly id: string;
  readonly timestamp: number;
  readonly attachments?: CompleteAttachment[];
};
```

Please note that the `MessageRole` type has also been updated to include the "data" role:

```tsx
export type MessageRole = "user" | "assistant" | "system" | "data";
```

These changes allow for more flexibility when working with messages in a thread.